{"version":3,"sources":["context/ThemeContext.js","hooks/useTheme.js","components/Searchbar.js","components/Navbar.js","firebase/config.js","assets/trashcan.svg","components/RecipeList.js","pages/home/Home.js","pages/create/Create.js","pages/search/Search.js","hooks/useFetch.js","pages/recipe/Recipe.js","assets/mode-icon.svg","components/ThemeSelector.js","App.js","index.js"],"names":["ThemeContext","createContext","themeReducer","state","action","type","color","payload","mode","ThemeProvider","children","useReducer","dispatch","Provider","value","changeColor","changeMode","useTheme","context","useContext","undefined","Error","Searchbar","useState","term","setTerm","history","useHistory","className","onSubmit","e","preventDefault","push","htmlFor","id","onChange","target","required","Navbar","style","background","to","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","RecipeList","recipes","length","map","recipe","title","cookingTime","method","substring","src","Trashcan","alt","onClick","collection","doc","delete","Home","data","setData","isPending","setIsPending","error","setError","useEffect","unsub","onSnapshot","snapshot","empty","results","docs","forEach","err","message","Create","setTitle","ingredients","setIngredients","newIngredient","setNewIngredient","setMethod","setCookingTime","ingredientInput","useRef","handleSubmit","a","add","console","log","ref","ing","trim","includes","prevIngredients","current","focus","i","Search","queryString","useLocation","search","query","URLSearchParams","get","url","options","setOptions","postData","headers","body","JSON","stringify","controller","AbortController","fetchData","fetchOptions","fetch","signal","res","ok","statusText","json","name","abort","useFetch","Recipe","setRecipe","useParams","exists","update","themeColors","ThemeSelector","modeIcon","filter","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9dbd150b.chunk.js","sourcesContent":["import { createContext, useReducer } from 'react'\r\n\r\nexport const ThemeContext = createContext();\r\n\r\nconst themeReducer = (state,action) => {\r\n  switch(action.type){\r\n    case 'CHANGE_COLOR':\r\n      return {...state, color:action.payload};\r\n    case 'CHANGE_MODE':\r\n      return {...state,mode:action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function ThemeProvider({children}){\r\n\r\n  const [state,dispatch] = useReducer(themeReducer,{\r\n    color:'blue',\r\n    mode:'light'\r\n  });\r\n\r\n  const changeColor = (color) => {\r\n    dispatch({type:'CHANGE_COLOR', payload:color})\r\n  }\r\n\r\n  const changeMode = (mode) => {\r\n    dispatch({type:'CHANGE_MODE',payload:mode})\r\n  }\r\n\r\n  return(\r\n    <ThemeContext.Provider value={{...state,changeColor,changeMode}}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  )\r\n}\r\n","import { useContext } from 'react';\r\nimport { ThemeContext } from '../context/ThemeContext'\r\n\r\nexport const useTheme = () => {\r\n  const context = useContext(ThemeContext);\r\n\r\n  if(context === undefined){\r\n    throw new Error(\"useTheme() must be used inside a theme provider\");\r\n  }\r\n\r\n  return context; \r\n}","import { useHistory } from 'react-router-dom';\r\nimport { useState } from 'react'\r\n\r\nimport './Searchbar.css'\r\n\r\nexport default function Searchbar() {\r\n\r\n  const [term, setTerm] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    history.push(`/search?q=${term}`)\r\n    //?q=pie\r\n  }\r\n\r\n  return (\r\n    <div className=\"searchbar\">\r\n      <form onSubmit={handleSubmit}>\r\n        <label htmlFor=\"search\">Search:</label>\r\n        <input \r\n          type=\"text\"\r\n          id=\"search\"\r\n          onChange={e=>setTerm(e.target.value)}\r\n          required\r\n        />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import {Link} from 'react-router-dom';\r\nimport { useTheme } from '../hooks/useTheme';\r\n\r\nimport './Navbar.css'\r\n\r\nimport Searchbar from './Searchbar';\r\n\r\nexport default function Navbar() {\r\n\r\n  const { color } = useTheme();\r\n\r\n  return (\r\n    <div className=\"navbar\" style={{background:color}}>\r\n      <nav>\r\n        <Link to=\"/\" className=\"brand\">\r\n          <h1>Cooking Ninja</h1>\r\n        </Link>\r\n        <Searchbar />\r\n        <Link to='/create'>Create Recipe</Link>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDIM0RG2igyJfCuO3IOvaIo5AqBh-a7Fsc\",\r\n  authDomain: \"cooking-ninja-site-b41bc.firebaseapp.com\",\r\n  projectId: \"cooking-ninja-site-b41bc\",\r\n  storageBucket: \"cooking-ninja-site-b41bc.appspot.com\",\r\n  messagingSenderId: \"491963441662\",\r\n  appId: \"1:491963441662:web:594d0198e88694241c60af\"\r\n};\r\n\r\n// init firebae\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// init services\r\n\r\nconst projectFirestore = firebase.firestore();\r\n\r\nexport { projectFirestore };","export default __webpack_public_path__ + \"static/media/trashcan.1129c53a.svg\";","import {Link} from 'react-router-dom';\r\nimport { useTheme } from '../hooks/useTheme';\r\nimport { projectFirestore } from '../firebase/config';\r\n\r\nimport Trashcan from '../assets/trashcan.svg'\r\n\r\nimport './RecipeList.css';\r\n\r\nexport default function RecipeList({recipes}) {\r\n\r\n  const {mode} = useTheme();\r\n\r\n  if(recipes.length===0){\r\n    return <div className=\"error\">No Recipes to load...</div>\r\n  }\r\n\r\n  const handleClick = (id) => {\r\n    projectFirestore.collection('recipes').doc(id).delete();\r\n  }\r\n\r\n  return (\r\n    <div className=\"recipe-list\">\r\n      {\r\n        recipes.map(recipe=>{\r\n          return(\r\n            <div className={`card ${mode}`} key={recipe.id}>\r\n              <h3 className=\"page-title\">{recipe.title}</h3>\r\n              <p>{recipe.cookingTime} to make.</p>\r\n              <div>{recipe.method.substring(0,100)}...</div>\r\n              <Link to={`/recipes/${recipe.id}`}>Cook This</Link>\r\n              <img \r\n                src={Trashcan}\r\n                alt=\"delete\"\r\n                className=\"delete\"\r\n                onClick={()=>handleClick(recipe.id)}\r\n              />\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { projectFirestore } from '../../firebase/config';\r\nimport RecipeList from '../../components/RecipeList';\r\n\r\nimport './Home.css'\r\n\r\nexport default function Home() {\r\n\r\n  const [data,setData] = useState(null);\r\n  const [isPending,setIsPending] = useState(false);\r\n  const [error,setError] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    setIsPending(true);\r\n\r\n    //real-time data collection\r\n    const unsub = projectFirestore.collection('recipes').onSnapshot((snapshot)=>{\r\n      if(snapshot.empty){\r\n        setError('No recipes to load.');\r\n      }else{\r\n        let results = [];\r\n        snapshot.docs.forEach(doc=>{\r\n          results.push({id:doc.id,...doc.data()});\r\n        })\r\n        setData(results);\r\n      }\r\n      setIsPending(false);\r\n    },err=>{\r\n      setError(err.message);\r\n      setIsPending(false);\r\n    });\r\n\r\n      return ()=>unsub();\r\n  },[])\r\n  \r\n  return (\r\n    <div className=\"home\">\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {isPending && <p className=\"loading\">Loading...</p>}\r\n      {data && <RecipeList recipes={data} />}\r\n    </div>\r\n  )\r\n}\r\n","import { useHistory } from 'react-router-dom';\r\nimport { useRef, useState } from 'react';\r\nimport { projectFirestore } from '../../firebase/config';\r\n\r\nimport './Create.css';\r\n\r\nexport default function Create() {\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [ingredients,setIngredients] = useState([]);\r\n  const [newIngredient,setNewIngredient] = useState('');\r\n  const [method, setMethod] = useState('');\r\n  const [cookingTime, setCookingTime] = useState('');\r\n\r\n  const ingredientInput = useRef(null);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const doc = {\r\n      title,ingredients,method,cookingTime:cookingTime+' minutes'\r\n    }\r\n\r\n    try{\r\n      await projectFirestore.collection('recipes').add(doc);\r\n      history.push('/');\r\n    }catch(err){\r\n      console.log(err);\r\n    }\r\n\r\n\r\n    //json server adds id itself\r\n  }\r\n\r\n  const handleAddIngredient = (e) => {\r\n    e.preventDefault();\r\n    const ing = newIngredient.trim();\r\n    if(ing && !ingredients.includes(ing)){\r\n      setIngredients(prevIngredients=> [...prevIngredients,ing])\r\n    }\r\n    setNewIngredient('');\r\n    ingredientInput.current.focus();\r\n  }\r\n\r\n  return (\r\n    <div className=\"create\">\r\n      <h2 className=\"page-title\">Add a New Recipe</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Recipe title:</span>\r\n          <input \r\n            type=\"text\"\r\n            onChange={(e)=>setTitle(e.target.value)}\r\n            value={title}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Recipe ingredients:</span>\r\n          <div className=\"ingredients\">\r\n            <input \r\n              type=\"text\"\r\n              onChange={(e)=>setNewIngredient(e.target.value)}\r\n              value={newIngredient}\r\n              ref={ingredientInput}\r\n            />\r\n            <button onClick={handleAddIngredient} className=\"btn\">add</button>\r\n          </div>\r\n        </label>\r\n        <p>Current ingredients: {ingredients.map(i=><em key={i}>{i}, </em>)}</p>\r\n\r\n        <label>\r\n          <span>Recipe method:</span>\r\n          <textarea \r\n            onChange={(e)=>setMethod(e.target.value)}\r\n            value={method}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Cooking time (minutes):</span>\r\n          <input\r\n            type=\"number\" \r\n            onChange={(e)=>setCookingTime(e.target.value)}\r\n            value={cookingTime}\r\n            required\r\n          />\r\n        </label>\r\n        <button className=\"btn\">Submit</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import { useLocation } from 'react-router-dom';\r\nimport { useFetch } from '../../hooks/useFetch';\r\nimport './Search.css';\r\n\r\nimport RecipeList from '../../components/RecipeList';\r\n\r\nexport default function Search() {\r\n\r\n  const queryString = useLocation().search;\r\n  const queryParams = new URLSearchParams(queryString);\r\n  const query = queryParams.get('q');\r\n\r\n  // these are different q's\r\n  const url = 'http://localhost:3000/recipes?q=' + query;\r\n  const {error,isPending,data} = useFetch(url);\r\n  return (\r\n    <div>\r\n      <h2 className=\"title\">Recipes including \"{query}\"</h2>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {isPending && <p className=\"loading\">Loading...</p>}\r\n      {data && <RecipeList recipes={data} />}\r\n    </div>\r\n  )\r\n}\r\n","import { useState, useEffect, useRef} from 'react';\r\n\r\nexport const useFetch = (url,method=\"GET\") => {\r\n  const [data,setData] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [error,setError] = useState(null);\r\n  const [options, setOptions] = useState(null);\r\n\r\n  const postData = (postData) => {\r\n    setOptions({\r\n      method:\"POST\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\"\r\n      },\r\n      body:JSON.stringify(postData)\r\n    })\r\n  }\r\n\r\n  useEffect(()=>{\r\n    const controller = new AbortController();\r\n\r\n    const fetchData = async(fetchOptions) => {\r\n      setIsPending(true);\r\n        try{\r\n          const res = await fetch(url,{...fetchOptions,signal:controller.signal});\r\n          if(!res.ok){\r\n            throw new Error(res.statusText);\r\n          }\r\n          const json = await res.json();\r\n          setData(json);\r\n          setIsPending(false);\r\n          setError(null);\r\n        }catch(err){\r\n          if(err.name === \"AbortError\"){\r\n            console.log('the fetch was aborted');\r\n          }else{\r\n            setIsPending(false);\r\n            setError('Could not fetch the data');\r\n            console.log(err.message);\r\n          }\r\n        }\r\n        \r\n      }\r\n      \r\n    if(method === \"GET\"){\r\n      fetchData()\r\n    }else if(method === \"POST\" && options){\r\n      fetchData(options);\r\n    }\r\n\r\n    return () =>{\r\n      controller.abort();\r\n    }\r\n\r\n  },[url,options,method])\r\n\r\n  return {data,isPending,error,postData};\r\n\r\n}","import { useParams } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport { useTheme } from '../../hooks/useTheme';\r\n\r\nimport { projectFirestore } from '../../firebase/config';\r\n\r\nimport './Recipe.css';\r\n\r\nexport default function Recipe() {\r\n\r\n  const [recipe,setRecipe] = useState(null);\r\n  const [isPending,setIsPending] = useState(false);\r\n  const [error,setError] = useState(false);\r\n\r\n  const { id } = useParams();\r\n\r\n  const { mode } = useTheme();\r\n\r\n  useEffect(()=>{\r\n    setIsPending(true);\r\n\r\n    const unsub = projectFirestore.collection('recipes').doc(id).onSnapshot((doc)=>{\r\n      if(doc.exists){\r\n        setIsPending(false);\r\n        setRecipe(doc.data());\r\n      }else{\r\n        setIsPending(false);\r\n        setError('Could not find that recipe.')\r\n      }\r\n    })\r\n\r\n    return ()=>unsub();\r\n\r\n  },[id])\r\n\r\n  const handleClick = () => {\r\n    projectFirestore.collection('recipes').doc(id).update({\r\n      title : 'Something completely different'\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={`recipe ${mode}`}>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {isPending && <p className=\"loading\">Loading...</p>}\r\n      {recipe &&(\r\n        <>\r\n          <h2 className=\"page-title\">{recipe.title}</h2>\r\n          <p>Takes {recipe.cookingTime} to make.</p>\r\n          <ul>\r\n            {recipe.ingredients.map(ing=> <li key={ing}>{ing}</li>)}\r\n          </ul>\r\n          <p className=\"method\">{recipe.method}</p>\r\n          <button onClick={handleClick}>Update me!</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/mode-icon.651cf792.svg\";","import { useTheme } from '../hooks/useTheme';\r\nimport modeIcon from '../assets/mode-icon.svg';\r\n\r\nimport './ThemeSelector.css';\r\n\r\nconst themeColors = ['#58249c','#249c6b','#b70233'];\r\n\r\nexport default function ThemeSelector() {\r\n\r\n  const {changeColor, changeMode, mode} = useTheme();\r\n\r\n  const toggleMode = () => {\r\n    changeMode(mode==='dark' ? 'light' : 'dark');\r\n  }\r\n\r\n  console.log(mode);\r\n\r\n  return (\r\n    <div className=\"theme-selector\">\r\n      <div className=\"mode-toggle\">\r\n        <img \r\n          onClick={toggleMode}\r\n          src={modeIcon}\r\n          alt=\"dark/light toggle icon\" \r\n          style={{filter:mode==='dark' ? 'invert(100%)' : 'invert(20%)'}}\r\n        />\r\n      </div>\r\n      <div className=\"theme-buttons\">\r\n        {themeColors.map(color=>{\r\n          return(\r\n            <div \r\n              key={color}\r\n              onClick={()=>{changeColor(color)}}\r\n              style={{background:color}}\r\n            />\r\n          )\r\n         \r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import {BrowserRouter, Switch, Route} from 'react-router-dom';\n\nimport Navbar from './components/Navbar';\nimport Home from './pages/home/Home';\nimport Create from './pages/create/Create';\nimport Search from './pages/search/Search';\nimport Recipe from './pages/recipe/Recipe';\n\nimport './App.css';\nimport ThemeSelector from './components/ThemeSelector';\nimport { useTheme } from './hooks/useTheme';\n\nfunction App() {\n  const {mode} = useTheme();\n  return (\n    <div className={`App ${mode}`}>\n      <BrowserRouter>\n        <Navbar />\n        <ThemeSelector />\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/create\">\n            <Create />\n          </Route>\n          <Route path=\"/search\">\n            <Search />\n          </Route>\n          <Route path=\"/recipes/:id\">\n            <Recipe />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { ThemeProvider } from './context/ThemeContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}